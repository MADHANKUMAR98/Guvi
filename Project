package service;

import dao.CustomerDAO;
import dao.CustomerDAOCollectionImpl;
import pojo.Customer;
import java.util.Collection;

public class CustomerServiceImpl implements CustomerService {
    private CustomerDAO customerDAO;

    public CustomerServiceImpl() {
        customerDAO = new CustomerDAOCollectionImpl();
    }

    @Override
    public Collection<Customer> fetchAllCustomers() {
        return customerDAO.fetchAllCustomers();
    }

    @Override
    public Customer fetchCustomer(String customerId) {
        return customerDAO.fetchCustomer(customerId);
    }

    @Override
    public Customer addCustomer(Customer newCustomer) {
        return customerDAO.addCustomer(newCustomer);
    }

    @Override
    public Customer updateCustomer(Customer updatedCustomer) {
        return customerDAO.updateCustomer(updatedCustomer);
    }

    @Override
    public void deleteCustomer(String customerId) {
        customerDAO.deleteCustomer(customerId);
    }
}

package dao;

import pojo.Customer;
import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

public class CustomerDAOCollectionImpl implements CustomerDAO {
    private Map<String, Customer> customerDataStore;

    public CustomerDAOCollectionImpl() {
        customerDataStore = new HashMap<>();
        // Initialize with some default data if necessary
    }

    @Override
    public Collection<Customer> fetchAllCustomers() {
        return customerDataStore.values();
    }

    @Override
    public Customer fetchCustomer(String customerId) {
        return customerDataStore.get(customerId);
    }

    @Override
    public Customer addCustomer(Customer newCustomer) {
        customerDataStore.put(newCustomer.getId(), newCustomer);
        return newCustomer;
    }

    @Override
    public Customer updateCustomer(Customer updatedCustomer) {
        return customerDataStore.replace(updatedCustomer.getId(), updatedCustomer);
    }

    @Override
    public void deleteCustomer(String customerId) {
        customerDataStore.remove(customerId);
    }
}
