public class Customer {
    // Existing fields and methods...

    public Map<String, Double> getPaymentHistory() {
        return payments;
    }

    public double generateBill(String month) {
        int kwh = getUsage(month);
        double unitPrice = 4.60;
        double billAmount = kwh * unitPrice;
        addBill(month, billAmount);
        return billAmount;
    }

    // Existing methods...
}
private void viewPaymentHistory() {
    Customer customer = customerService.fetchCustomer(loggedInCustomerId);
    if (customer != null) {
        System.out.println("Payment History:");
        Map<String, Double> payments = customer.getPaymentHistory();
        payments.forEach((month, amount) -> {
            System.out.println("Month: " + month + ", Amount Paid: " + amount);
        });
    } else {
        System.out.println("Customer not found.");
    }
}

private void generateMonthlyBill() {
    Customer customer = customerService.fetchCustomer(loggedInCustomerId);
    if (customer != null) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Enter the month to generate the bill for: ");
        String month = scanner.nextLine();
        double billAmount = customer.generateBill(month);
        if (billAmount > 0) {
            System.out.println("Bill generated for " + month + ": " + billAmount);
            customerService.updateCustomer(customer);
        } else {
            System.out.println("No usage recorded for " + month + ".");
        }
    } else {
        System.out.println("Customer not found.");
    }
}
